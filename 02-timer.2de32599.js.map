{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAMA,MAAMC,EAAiBC,SAASC,eAAe,mBACzCC,EAAcF,SAASG,cAAc,sBACrCC,EAAc,CAChBC,KAAML,SAASG,cAAc,eAC7BG,MAAON,SAASG,cAAc,gBAC9BI,QAASP,SAASG,cAAc,kBAChCK,QAASR,SAASG,cAAc,mBAGpCD,EAAYO,UAAW,EAEvB,MAAMC,EAAU,CACZC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GACiBA,EAAc,IACfH,KAAKI,OACrBC,EAAAtB,GAASuB,OAAOC,QAAQ,sCACxBtB,EAAeuB,MAAQ,GACvBpB,EAAYO,UAAW,GAEvBP,EAAYO,UAAW,C,GAOnC,IAAIc,EA2CJ,SAASC,EAAeF,GACpB,OAAOA,EAAMG,WAAWC,SAAS,EAAG,I,CAGxC,SAASC,EAAmBtB,EAAMC,EAAOC,EAASC,GAC9CJ,EAAYC,KAAKuB,YAAcJ,EAAenB,GAC9CD,EAAYE,MAAMsB,YAAcJ,EAAelB,GAC/CF,EAAYG,QAAQqB,YAAcJ,EAAejB,GACjDH,EAAYI,QAAQoB,YAAcJ,EAAehB,E,CArDrDqB,UAAU9B,EAAgBW,GAI1BR,EAAY4B,iBAAiB,SAAS,KAClC,MAAMC,EAAe,IAAIjB,KAAKf,EAAeuB,OACvCU,EAAclB,KAAKI,MACrBa,GAAgBC,GAClB9B,EAAYO,UAAW,EACrBU,EAAAtB,GAASuB,OAAOC,QAAQ,uCAExBE,EAAoBU,aAAY,MAMxC,SAAqBC,GACjB,MAAMhB,EAAMJ,KAAKI,MACXiB,EAAgBD,EAAUhB,EAEhC,GAAIiB,GAAiB,EAGjB,OAFAC,cAAcb,QACdI,EAAmB,EAAG,EAAG,EAAG,GAIhC,MAAMtB,KAAEA,EAAIC,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,GAIlC,SAAmB6B,GACf,MAAMC,EAAS,IACTC,EAAkB,GAATD,EACTE,EAAgB,GAATD,EACPE,EAAa,GAAPD,EAENnC,EAAOqC,KAAKC,MAAMN,EAAKI,GACvBnC,EAAQoC,KAAKC,MAAMN,EAAMI,EAAOD,GAChCjC,EAAUmC,KAAKC,MAAMN,EAAOI,EAAOD,EAAQD,GAC3C/B,EAAUkC,KAAKC,MAAMN,EAAQI,EAAOD,EAAQD,EAAUD,GAE5D,MAAO,C,KAAEjC,E,MAAMC,E,QAAOC,E,QAASC,E,CAfWoC,CAAUT,GACpDR,EAAmBtB,EAAMC,EAAOC,EAASC,E,CAhBnCqC,CAAYd,EAAa,GACxB,IAAK","sources":["src/js/02-timer.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\n// Notiflix.Notify.success('This is a success message');\n// Notiflix.Notify.failure('This is a failure message');\n\n\nconst dateTimePicker = document.getElementById('datetime-picker');\nconst startButton = document.querySelector('button[data-start]');\nconst timerFields = {\n    days: document.querySelector('[data-days]'),\n    hours: document.querySelector('[data-hours]'),\n    minutes: document.querySelector('[data-minutes]'),\n    seconds: document.querySelector('[data-seconds]'),\n};\n\nstartButton.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const selectedDate = selectedDates[0];\n        if (selectedDate <= Date.now()) {\n            Notiflix.Notify.failure('Please choose a date in the future');\n            dateTimePicker.value = '';\n            startButton.disabled = true;\n        } else {\n            startButton.disabled = false;\n        }\n    },\n};\n\nflatpickr(dateTimePicker, options);\n\nlet countdownInterval;\n\nstartButton.addEventListener('click', () => {\n    const selectedDate = new Date(dateTimePicker.value);\n    const currentTime = Date.now();\n    if (selectedDate <= currentTime) {\n      startButton.disabled = true;\n        Notiflix.Notify.failure('Please choose a date in the future');\n    } else {\n        countdownInterval = setInterval(() => {\n          updateTimer(selectedDate);\n        }, 1000);\n    }\n});\n\nfunction updateTimer(endTime) {\n    const now = Date.now();\n    const timeRemaining = endTime - now;\n\n    if (timeRemaining <= 0) {\n        clearInterval(countdownInterval);\n        updateTimerDisplay(0, 0, 0, 0);\n        return;\n    } \n\n    const { days, hours, minutes, seconds } = convertMs(timeRemaining);\n    updateTimerDisplay(days, hours, minutes, seconds);\n}\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n    return value.toString().padStart(2, '0');\n}\n\nfunction updateTimerDisplay(days, hours, minutes, seconds) {\n    timerFields.days.textContent = addLeadingZero(days);\n    timerFields.hours.textContent = addLeadingZero(hours);\n    timerFields.minutes.textContent = addLeadingZero(minutes);\n    timerFields.seconds.textContent = addLeadingZero(seconds);\n}\n"],"names":["$7Y9D8","parcelRequire","$40d383fb392a7037$var$dateTimePicker","document","getElementById","$40d383fb392a7037$var$startButton","querySelector","$40d383fb392a7037$var$timerFields","days","hours","minutes","seconds","disabled","$40d383fb392a7037$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","now","$parcel$interopDefault","Notify","failure","value","$40d383fb392a7037$var$countdownInterval","$40d383fb392a7037$var$addLeadingZero","toString","padStart","$40d383fb392a7037$var$updateTimerDisplay","textContent","flatpickr","addEventListener","selectedDate","currentTime","setInterval","endTime","timeRemaining","clearInterval","ms","second","minute","hour","day","Math","floor","$40d383fb392a7037$var$convertMs","$40d383fb392a7037$var$updateTimer"],"version":3,"file":"02-timer.2de32599.js.map"}